<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>hato.work LAB - Button Counter</title>
  <style>
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      background:#0b0f1a; color:#e8edf7;
    }
    .card{
      width:min(520px, 92vw);
      padding:28px;
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      background:rgba(255,255,255,.06);
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      text-align:center;
    }
    h1{ font-size:18px; margin:0 0 14px; opacity:.9; }
    .count{
      font-size:64px; font-weight:800; letter-spacing:1px;
      margin:10px 0 6px;
    }
    .msg{ min-height:1.6em; opacity:.9; margin:0 0 18px; }
    button{
      width:100%;
      padding:16px 18px;
      border:0;
      border-radius:14px;
      background:#ffffff;
      color:#0b0f1a;
      font-weight:800;
      font-size:18px;
      cursor:pointer;
      transition: transform .06s ease, opacity .2s ease;
    }
    button:active{ transform: scale(.98); }
    .sub{
      margin-top:14px;
      display:flex; gap:10px;
    }
    .ghost{
      flex:1;
      background:transparent;
      border:1px solid rgba(255,255,255,.2);
      color:#e8edf7;
      font-weight:700;
      padding:12px 14px;
      border-radius:14px;
      cursor:pointer;
    }
    .badge{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      font-size:12px;
      opacity:.85;
    }
  </style>
</head>
<body>
  <main class="card">
    <div class="badge">hato.work / LAB</div>
    <h1>押すと増えるだけのボタン</h1>

    <div id="count" class="count">0</div>
    <p id="msg" class="msg">とりあえず押してみて。</p>

    <button id="btn">PUSH</button>

    <div class="sub">
      <button id="reset" class="ghost">リセット</button>
      <button id="copy" class="ghost">URLコピー(任意)</button>
    </div>
  </main>

  <script>
    // 保存しても消えないように localStorage を使う
    const KEY = "hato_lab_button_count";

    const countEl = document.getElementById("count");
    const msgEl = document.getElementById("msg");
    const btn = document.getElementById("btn");
    const resetBtn = document.getElementById("reset");
    const copyBtn = document.getElementById("copy");

    let count = Number(localStorage.getItem(KEY) ?? 0);

    function setMessage(n){
      if (n === 0) return "とりあえず押してみて。";
      if (n === 1) return "増えた。えらい。";
      if (n === 10) return "10回到達。やるね。";
      if (n === 50) return "50回。もう立派な研究。";
      if (n === 100) return "100回！色、変えたくなるね。";
      if (n === 200) return "200回。指が強い。";
      if (n === 500) return "500回。これはもはや作品。";
      if (n === 1000) return "1000回。伝説。";
      return "";
    }

    function render(){
      countEl.textContent = String(count);

      // 100回以上で背景をほんのり変える（演出）
      if (count >= 100) {
        document.body.style.background = "#0a1224";
      } else {
        document.body.style.background = "#0b0f1a";
      }

      const m = setMessage(count);
      if (m) msgEl.textContent = m;
    }

    btn.addEventListener("click", () => {
      count++;
      localStorage.setItem(KEY, String(count));
      render();
    });

    resetBtn.addEventListener("click", () => {
      count = 0;
      localStorage.setItem(KEY, "0");
      render();
    });

    copyBtn.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText(location.href);
        msgEl.textContent = "URLコピーした（たぶん）";
      }catch{
        msgEl.textContent = "この環境だとコピーできないかも！";
      }
    });

    render();
  </script>
</body>
</html>
